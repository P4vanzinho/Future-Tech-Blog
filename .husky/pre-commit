#!/usr/bin/env sh

echo "ğŸ” Husky: Running pre-commit hook..."
echo "ğŸ§ª Running all tests..."

npm run test -- --run

if [ $? -ne 0 ]; then
  echo "âŒ Tests failed! Commit aborted."
  exit 1
fi

echo "âœ… Tests passed!"
echo "ğŸ”§ Running lint on staged files..."

npx lint-staged

if [ $? -ne 0 ]; then
  echo "âŒ Lint failed! Commit aborted."
  exit 1
fi

echo "âœ… Pre-commit hook completed successfully!"

